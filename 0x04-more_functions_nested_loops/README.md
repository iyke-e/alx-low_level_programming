this is the solution to the more functions more nested loop 
